<!-- <app-navbar (toggleSidebar)="toggleSidebar()"></app-navbar> -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />
<link rel="stylesheet" href="driver-application-form.component.css" />
<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js"></script>
<link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&display=swap" rel="stylesheet">




<main id="main" class="main bg-gray">
  <div class="p-4 pb-0">
    <div class="bg-white px-3 py-3 mb-3 rounded">
      <div class="d-flex align-items-center justify-content-between">
        <h2 class="font-18 font-weight-700 mb-0 text-capitalize">Driver Employment Application</h2>
        <!-- <a href="driver-application.html" class="btn btn-outline-secondary rounded-pill font-14">Back</a> -->

      </div>
    </div>
    <div class="bg-white rounded-lg p-3">
      <div class="driverAppForm position-relative">
        <div class="border rounded-lg">

          <!-- STEP 1: Applicant Information, License Info, Driving Experience -->
          <div class="content_acc p-4" id="step1" [style.display]="currentStep === 1 ? 'block' : 'none'">
            <form #step1Form="ngForm">
              <!-- Section 1: Applicant Information -->
              <div class="row">
                <div class="col-md-12">
                  <h2 class="font-18 font-weight-700 text-primary mb-4 text-capitalize">1. Applicant Information</h2>
                  <hr>
                  <div class="row g-3">
                    <div class="" id="company-info" style="display: block;">
                      <div class="row">
                        <div class="col-md-6">
                          <div class="form-group">
                            <label class="mb-2 d-block font-weight-700"> First Name:</label>
                            <input type="text" class="form-control custom-input" name="firstName"
                              [(ngModel)]="driverApplication.firstName" required pattern="^[A-Za-z\s]+$"
                              #firstNameRef="ngModel">
                            <div
                              *ngIf="firstNameRef.invalid && (firstNameRef.dirty || firstNameRef.touched || mainForm.submitted)"
                              class="text-danger font-12">
                              Only letters allowed.
                            </div>
                          </div>
                        </div>
                        <div class="col-md-6">
                          <div class="form-group">
                            <label class="mb-2 d-block font-weight-700"> Middle Name:</label>
                            <input type="text" class="form-control custom-input" name="middleName"
                              [(ngModel)]="driverApplication.middleName" required pattern="^[A-Za-z\s]+$"
                              #middleNameRef="ngModel">
                            <div
                              *ngIf="middleNameRef.invalid && (middleNameRef.dirty || middleNameRef.touched || mainForm.submitted)"
                              class="text-danger font-12">
                              Only letters allowed.
                            </div>
                          </div>
                        </div>
                        <div class="col-md-6">
                          <div class="form-group">
                            <label class="mb-2 d-block font-weight-700"> Last Name:</label>
                            <input type="text" class="form-control custom-input" name="lastName"
                              [(ngModel)]="driverApplication.lastName" required pattern="^[A-Za-z\s]+$"
                              #lastNameRef="ngModel">
                            <div
                              *ngIf="lastNameRef.invalid && (lastNameRef.dirty || lastNameRef.touched || mainForm.submitted)"
                              class="text-danger font-12">
                              Only letters allowed.
                            </div>
                          </div>
                        </div>
                        <div class="col-md-6">
                          <div class="form-group">
                            <label class="mb-2 d-block font-weight-700"> Any other names used:</label>
                            <input type="text" class="form-control  custom-input" name="otherNames"
                              [(ngModel)]="driverApplication.otherNames" required pattern="^[A-Za-z\s]+$"
                              #otherNamesRef="ngModel" placeholder="Maiden name, alias, etc.">
                            <div
                              *ngIf="otherNamesRef.invalid && (otherNamesRef.dirty || otherNamesRef.touched || mainForm.submitted)"
                              class="text-danger font-12">
                              Only letters allowed.
                            </div>
                          </div>
                        </div>
                        <div class="col-md-6">
                          <div class="form-group">
                            <label class="mb-2 d-block font-weight-700"> Social Security Number:</label>
                            <input type="text" class="form-control custom-input" name="ssn"
                              [(ngModel)]="driverApplication.ssn" required pattern="^[0-9]+$" maxlength="9"
                              #ssnRef="ngModel">
                            <div *ngIf="ssnRef.invalid && (ssnRef.dirty || ssnRef.touched || mainForm.submitted)"
                              class="text-danger font-12">
                              Only numbers allowed.
                            </div>
                          </div>
                        </div>
                        <div class="col-md-6">
                          <div class="form-group">
                            <label class="mb-2 d-block font-weight-700"> Date of Birth:</label>
                            <input type="date" class="form-control gray custom-input" name="dob"
                              [(ngModel)]="driverApplication.dob" required>
                          </div>
                        </div>
                        <div class="col-md-12">
                          <hr class="mt-10 pb-10">
                        </div>
                        <div class="col-md-6">
                          <div class="form-group">
                            <label class="mb-2 d-block font-weight-700 "> Date of Application:</label>
                            <input type="date" class=" form-control gray custom-input" name="applicationDate"
                              [(ngModel)]="driverApplication.applicationDate" required>
                          </div>
                        </div>
                        <div class="col-md-6">
                          <div class="form-group">
                            <label class="mb-2 d-block font-weight-700"> Position Applied for:</label>
                            <input type="text" class="form-control custom-input" name="positionApplied"
                              [(ngModel)]="driverApplication.positionApplied" required>
                          </div>
                        </div>
                        <div class="col-md-6">
                          <div class="form-group">
                            <label class="mb-2 d-block font-weight-700"> Date Available to Work:</label>
                            <input type="date" class="form-control gray custom-input" name="availabilityDate"
                              [(ngModel)]="driverApplication.availabilityDate" required>
                          </div>
                        </div>
                        <div class="col-md-6">
                          <div class="form-group">
                            <label class="mb-2 d-block font-weight-700">Do you have the legal right to work in the
                              United States?</label>
                            <div class="d-flex">
                              <div class="me-3">
                                <input type="radio" id="yes" name="legalRightToWork" [value]="true"
                                  [(ngModel)]="driverApplication.legalRightToWork" required>
                                <label for="yes">Yes</label>
                              </div>
                              <div>
                                <input type="radio" id="no" name="legalRightToWork" [value]="false"
                                  [(ngModel)]="driverApplication.legalRightToWork">
                                <label for="no">No</label>
                              </div>
                            </div>
                          </div>
                        </div>

                        <div class="col-md-12">
                          <hr class="mt-10 pb-10">
                        </div>
                        <div class="col-md-6">
                          <div class="form-group">
                            <label class="mb-2 d-block font-weight-700"> Phone Number:</label>
                            <input type="text" class="form-control custom-input" name="phoneNumber"
                              [(ngModel)]="driverApplication.phoneNumber" required pattern="^[0-9]+$" maxlength="15"
                              #phoneNumberRef="ngModel">
                            <div
                              *ngIf="phoneNumberRef.invalid && (phoneNumberRef.dirty || phoneNumberRef.touched || mainForm.submitted)"
                              class="text-danger font-12">
                              Only numbers allowed.
                            </div>
                          </div>
                        </div>
                        <div class="col-md-6">
                          <div class="form-group">
                            <label class="mb-2 d-block font-weight-700"> Email Address:</label>
                            <input type="text" class="form-control custom-input" name="emailAddress"
                              [(ngModel)]="driverApplication.emailAddress" required>
                          </div>
                        </div>
                        <div class="col-md-12">
                          <div class="form-group">
                            <label class="mb-2 d-block font-weight-700"> Current Address (Street):</label>
                            <input type="text" class="form-control custom-input" name="currentAddress"
                              [(ngModel)]="driverApplication.currentAddress" required>
                          </div>
                        </div>
                        <div class="col-md-6">
                          <div class="form-group">
                            <label class="mb-2 d-block font-weight-700"> City:</label>
                            <input type="text" class="form-control custom-input" name="city"
                              [(ngModel)]="driverApplication.city" required pattern="^[A-Za-z\s]+$" #cityRef="ngModel">
                            <div *ngIf="cityRef.invalid && (cityRef.dirty || cityRef.touched || mainForm.submitted)"
                              class="text-danger font-12">
                              Only letters allowed.
                            </div>
                          </div>
                        </div>
                        <div class="col-md-6">
                          <div class="form-group">
                            <label class="mb-2 d-block font-weight-700"> State:</label>
                            <select class="form-control gray" name="state" [(ngModel)]="driverApplication.state"
                              required>
                              <option value="">Select State</option>
                              <option value="Alabama">Alabama</option>
                              <option value="Alaska">Alaska</option>
                              <option value="Arizona">Arizona</option>
                              <option value="Arkansas">Arkansas</option>
                              <option value="California">California</option>
                              <option value="Colorado">Colorado</option>
                              <option value="Connecticut">Connecticut</option>
                              <option value="Delaware">Delaware</option>
                              <option value="Florida">Florida</option>
                              <option value="Georgia">Georgia</option>
                              <option value="Hawaii">Hawaii</option>
                              <option value="Idaho">Idaho</option>
                              <option value="Illinois">Illinois</option>
                              <option value="Indiana">Indiana</option>
                              <option value="Iowa">Iowa</option>
                              <option value="Kansas">Kansas</option>
                              <option value="Kentucky">Kentucky</option>
                              <option value="Louisiana">Louisiana</option>
                              <option value="Maine">Maine</option>
                              <option value="Maryland">Maryland</option>
                              <option value="Massachusetts">Massachusetts</option>
                              <option value="Michigan">Michigan</option>
                              <option value="Minnesota">Minnesota</option>
                              <option value="Mississippi">Mississippi</option>
                              <option value="Missouri">Missouri</option>
                              <option value="Montana">Montana</option>
                              <option value="Nebraska">Nebraska</option>
                              <option value="Nevada">Nevada</option>
                              <option value="New Hampshire">New Hampshire</option>
                              <option value="New Jersey">New Jersey</option>
                              <option value="New Mexico">New Mexico</option>
                              <option value="New York">New York</option>
                              <option value="North Carolina">North Carolina</option>
                              <option value="North Dakota">North Dakota</option>
                              <option value="Ohio">Ohio</option>
                              <option value="Oklahoma">Oklahoma</option>
                              <option value="Oregon">Oregon</option>
                              <option value="Pennsylvania">Pennsylvania</option>
                              <option value="Rhode Island">Rhode Island</option>
                              <option value="South Carolina">South Carolina</option>
                              <option value="South Dakota">South Dakota</option>
                              <option value="Tennessee">Tennessee</option>
                              <option value="Texas">Texas</option>
                              <option value="Utah">Utah</option>
                              <option value="Vermont">Vermont</option>
                              <option value="Virginia">Virginia</option>
                              <option value="Washington">Washington</option>
                              <option value="West Virginia">West Virginia</option>
                              <option value="Wisconsin">Wisconsin</option>
                              <option value="Wyoming">Wyoming</option>
                            </select>
                          </div>
                        </div>
                        <div class="col-md-12">
                          <div class="form-group">
                            <label class="mb-2 d-block font-weight-700"> ZIP Code:</label>
                            <input type="text" class="form-control custom-input" name="zipCode"
                              [(ngModel)]="driverApplication.zipCode" required pattern="^[0-9]+$" maxlength="10"
                              #zipCodeRef="ngModel">
                            <div
                              *ngIf="zipCodeRef.invalid && (zipCodeRef.dirty || zipCodeRef.touched || mainForm.submitted)"
                              class="text-danger font-12">
                              Only numbers allowed.
                            </div>
                          </div>
                        </div>
                        <div class="col-md-6">
                          <div class="form-group">
                            <label class="mb-2 d-block font-weight-700"> How long at current address?:</label>
                            <input type="number" class="form-control custom-input" name="currentAddressYears"
                              [(ngModel)]="driverApplication.currentAddressYears" required placeholder="Years" min="0"
                              max="99" #currentAddressYearsRef="ngModel">
                            <div
                              *ngIf="currentAddressYearsRef.invalid && (currentAddressYearsRef.dirty || currentAddressYearsRef.touched || mainForm.submitted)"
                              class="text-danger font-12">
                              Only numbers allowed.
                            </div>
                          </div>
                        </div>
                        <div class="col-md-6">
                          <div class="form-group">
                            <label class="mb-2 d-block font-weight-700"> &nbsp; </label>
                            <input type="number" class="form-control custom-input" name="currentAddressMonths"
                              [(ngModel)]="driverApplication.currentAddressMonths" required placeholder="Months" min="0"
                              max="11" #currentAddressMonthsRef="ngModel">
                            <div
                              *ngIf="currentAddressMonthsRef.invalid && (currentAddressMonthsRef.dirty || currentAddressMonthsRef.touched || mainForm.submitted)"
                              class="text-danger font-12">
                              Only numbers allowed.
                            </div>
                          </div>
                        </div>
                        <div class="col-md-12">
                          <div class="form-group">
                            <label class="mb-2 d-block font-weight-700">
                              Previous Addresses (Past 3 Years)
                            </label>
                            <div class="d-flex justify-content-center">
                              <div class="d-flex justify-content-center">
                                <button class="btn btn-sm text-uppercase rounded-pill w-100" type="button"
                                  (click)="showPreviousAddressForm = !showPreviousAddressForm"
                                  [attr.aria-expanded]="showPreviousAddressForm" aria-controls="previousAddressForm"
                                  style="background-color: #3062e1; color: white; max-width: 300px;">
                                  Add Previous Address
                                </button>
                              </div>
                            </div>




                          </div>

                        </div>
                        <!-- Add Previous Address Button -->


                        <!-- Collapsible Form -->
                        <div class="collapse mt-3" id="previousAddressForm" [class.show]="showPreviousAddressForm">

                          <div class="card card-body">
                            <ng-container *ngFor="let address of driverApplication.previousAddresses; let i = index">
                              <div class="row">
                                <div class="col-md-6">
                                  <div class="form-group">
                                    <label class="mb-2 d-block font-weight-700"> Street Address:</label>
                                    <input type="text" class="form-control custom-input"
                                      name="previousStreetAddress{{i}}" [(ngModel)]="address.street" required>
                                  </div>
                                </div>
                                <div class="col-md-6">
                                  <div class="form-group">
                                    <label class="mb-2 d-block font-weight-700"> City:</label>
                                    <input type="text" class="form-control custom-input" name="previousCity{{i}}"
                                      [(ngModel)]="address.city" required pattern="^[A-Za-z\s]+$"
                                      #previousCityRef="ngModel">
                                    <div
                                      *ngIf="previousCityRef.invalid && (previousCityRef.dirty || previousCityRef.touched || mainForm.submitted)"
                                      class="text-danger font-12">
                                      Only letters allowed.
                                    </div>
                                  </div>
                                </div>
                                <div class="col-md-6">
                                  <div class="form-group">
                                    <label class="mb-2 d-block font-weight-700"> State:</label>
                                    <select style="background-color:#e9ecef!important ;"
                                      class="form-control custom-input" name="previousState{{i}}"
                                      [(ngModel)]="address.state" required>
                                      <option value="">Select State</option>
                                      <option value="Alabama">Alabama</option>
                                      <option value="Alaska">Alaska</option>
                                      <option value="Arizona">Arizona</option>
                                      <option value="Arkansas">Arkansas</option>
                                      <option value="California">California</option>
                                      <option value="Colorado">Colorado</option>
                                      <option value="Connecticut">Connecticut</option>
                                      <option value="Delaware">Delaware</option>
                                      <option value="Florida">Florida</option>
                                      <option value="Georgia">Georgia</option>
                                      <option value="Hawaii">Hawaii</option>
                                      <option value="Idaho">Idaho</option>
                                      <option value="Illinois">Illinois</option>
                                      <option value="Indiana">Indiana</option>
                                      <option value="Iowa">Iowa</option>
                                      <option value="Kansas">Kansas</option>
                                      <option value="Kentucky">Kentucky</option>
                                      <option value="Louisiana">Louisiana</option>
                                      <option value="Maine">Maine</option>
                                      <option value="Maryland">Maryland</option>
                                      <option value="Massachusetts">Massachusetts</option>
                                      <option value="Michigan">Michigan</option>
                                      <option value="Minnesota">Minnesota</option>
                                      <option value="Mississippi">Mississippi</option>
                                      <option value="Missouri">Missouri</option>
                                      <option value="Montana">Montana</option>
                                      <option value="Nebraska">Nebraska</option>
                                      <option value="Nevada">Nevada</option>
                                      <option value="New Hampshire">New Hampshire</option>
                                      <option value="New Jersey">New Jersey</option>
                                      <option value="New Mexico">New Mexico</option>
                                      <option value="New York">New York</option>
                                      <option value="North Carolina">North Carolina</option>
                                      <option value="North Dakota">North Dakota</option>
                                      <option value="Ohio">Ohio</option>
                                      <option value="Oklahoma">Oklahoma</option>
                                      <option value="Oregon">Oregon</option>
                                      <option value="Pennsylvania">Pennsylvania</option>
                                      <option value="Rhode Island">Rhode Island</option>
                                      <option value="South Carolina">South Carolina</option>
                                      <option value="South Dakota">South Dakota</option>
                                      <option value="Tennessee">Tennessee</option>
                                      <option value="Texas">Texas</option>
                                      <option value="Utah">Utah</option>
                                      <option value="Vermont">Vermont</option>
                                      <option value="Virginia">Virginia</option>
                                      <option value="Washington">Washington</option>
                                      <option value="West Virginia">West Virginia</option>
                                      <option value="Wisconsin">Wisconsin</option>
                                      <option value="Wyoming">Wyoming</option>
                                    </select>
                                  </div>
                                </div>
                                <div class="col-md-6">
                                  <div class="form-group">
                                    <label class="mb-2 d-block font-weight-700"> ZIP Code:</label>
                                    <input type="text" class="form-control custom-input" name="previousZipCode{{i}}"
                                      [(ngModel)]="address.zip" required pattern="^[0-9]+$" maxlength="10"
                                      #previousZipCodeRef="ngModel">
                                    <div
                                      *ngIf="previousZipCodeRef.invalid && (previousZipCodeRef.dirty || previousZipCodeRef.touched || mainForm.submitted)"
                                      class="text-danger font-12">
                                      Only numbers allowed.
                                    </div>
                                  </div>
                                </div>
                                <div class="col-md-6">
                                  <div class="form-group">
                                    <label class="mb-2 d-block font-weight-700"> Year:</label>
                                    <input type="number" class="form-control custom-input"
                                      name="previousAddressYears{{i}}" [(ngModel)]="address.years" required min="0"
                                      max="99" #previousAddressYearsRef="ngModel">
                                    <div
                                      *ngIf="previousAddressYearsRef.invalid && (previousAddressYearsRef.dirty || previousAddressYearsRef.touched || mainForm.submitted)"
                                      class="text-danger font-12">
                                      Only numbers allowed.
                                    </div>
                                  </div>
                                </div>
                                <div class="col-md-6">
                                  <div class="form-group">
                                    <label class="mb-2 d-block font-weight-700"> Months:</label>
                                    <input type="number" class="form-control custom-input"
                                      name="previousAddressMonths{{i}}" [(ngModel)]="address.months" required min="0"
                                      max="11" #previousAddressMonthsRef="ngModel">
                                    <div
                                      *ngIf="previousAddressMonthsRef.invalid && (previousAddressMonthsRef.dirty || previousAddressMonthsRef.touched || mainForm.submitted)"
                                      class="text-danger font-12">
                                      Only numbers allowed.
                                    </div>
                                  </div>
                                </div>
                                <div class="col-md-12 text-end">
                                  <button type="button" class="btn btn-danger btn-sm rounded-pill"
                                    (click)="removePreviousAddress(i)"
                                    [disabled]="driverApplication.previousAddresses.length === 1">
                                    Remove
                                  </button>
                                </div>
                              </div>
                              <hr *ngIf="i < driverApplication.previousAddresses.length - 1">
                            </ng-container>
                            <div class="text-center">
                              <button type="button" class="btn btn-success btn-sm text-uppercase rounded-pill"
                                style="margin: 10px;" (click)="addPreviousAddress()">
                                <i class="fa fa-plus me-2" aria-hidden="true"></i>Add
                              </button>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <!-- Section 2: License Information -->
              <div class="row">
                <div class="col-md-12">
                  <h2 class="font-18 font-weight-700 text-primary mb-4 text-capitalize">2. License Information</h2>
                  <hr>
                  <div class="row g-3">
                    <div class="" id="company-info" style="display: block;">
                      <div class="row">
                        <!-- Repeatable License Fields -->
                        <ng-container *ngFor="let license of driverApplication.licenses; let i = index">
                          <div class="col-md-6">
                            <div class="form-group">
                              <label class="mb-2 d-block font-weight-700"> Driver's License Number:</label>
                              <input type="text" class="form-control custom-input" name="licenseNumber{{i}}"
                                [(ngModel)]="license.licenseNumber" required>
                            </div>
                          </div>
                          <div class="col-md-6">
                            <div class="form-group">
                              <label class="mb-2 d-block font-weight-700"> State of Issuance:</label>
                              <select class=" gray form-control custom-input" name="stateOfIssuance{{i}}"
                                [(ngModel)]="license.stateOfIssuance" required>
                                <option value="AL">Select State</option>
                                <option value="Alabama">Alabama</option>
                                <option value="Alaska">Alaska</option>
                                <option value="Arizona">Arizona</option>
                                <option value="Arkansas">Arkansas</option>
                                <option value="California">California</option>
                                <option value="Colorado">Colorado</option>
                                <option value="Connecticut">Connecticut</option>
                                <option value="Delaware">Delaware</option>
                                <option value="Florida">Florida</option>
                                <option value="Georgia">Georgia</option>
                                <option value="Hawaii">Hawaii</option>
                                <option value="Idaho">Idaho</option>
                                <option value="Illinois">Illinois</option>
                                <option value="Indiana">Indiana</option>
                                <option value="Iowa">Iowa</option>
                                <option value="Kansas">Kansas</option>
                                <option value="Kentucky">Kentucky</option>
                                <option value="Louisiana">Louisiana</option>
                                <option value="Maine">Maine</option>
                                <option value="Maryland">Maryland</option>
                                <option value="Massachusetts">Massachusetts</option>
                                <option value="Michigan">Michigan</option>
                                <option value="Minnesota">Minnesota</option>
                                <option value="Mississippi">Mississippi</option>
                                <option value="Missouri">Missouri</option>
                                <option value="Montana">Montana</option>
                                <option value="Nebraska">Nebraska</option>
                                <option value="Nevada">Nevada</option>
                                <option value="New Hampshire">New Hampshire</option>
                                <option value="New Jersey">New Jersey</option>
                                <option value="New Mexico">New Mexico</option>
                                <option value="New York">New York</option>
                                <option value="North Carolina">North Carolina</option>
                                <option value="North Dakota">North Dakota</option>
                                <option value="Ohio">Ohio</option>
                                <option value="Oklahoma">Oklahoma</option>
                                <option value="Oregon">Oregon</option>
                                <option value="Pennsylvania">Pennsylvania</option>
                                <option value="Rhode Island">Rhode Island</option>
                                <option value="South Carolina">South Carolina</option>
                                <option value="South Dakota">South Dakota</option>
                                <option value="Tennessee">Tennessee</option>
                                <option value="Texas">Texas</option>
                                <option value="Utah">Utah</option>
                                <option value="Vermont">Vermont</option>
                                <option value="Virginia">Virginia</option>
                                <option value="Washington">Washington</option>
                                <option value="West Virginia">West Virginia</option>
                                <option value="Wisconsin">Wisconsin</option>
                                <option value="Wyoming">Wyoming</option>
                              </select>
                            </div>
                          </div>
                          <div class="col-md-6">
                            <div class="form-group">
                              <label class="mb-2 d-block font-weight-700"> Class:</label>
                              <select class=" gray form-control custom-input" name="licenseClass"
                                [(ngModel)]="license.licenseClass" required>
                                <option value="AL">Select Class</option>
                                <option value="AK">Class A</option>
                                <option value="AK">Class B</option>
                                <option value="AK">Class C</option>
                              </select>
                            </div>
                          </div>
                          <div class="col-md-6">
                            <div class="form-group">
                              <label class="mb-2 d-block font-weight-700"> Endorsements:</label>
                              <select class=" gray form-control custom-input" name="endorsements"
                                [(ngModel)]="license.endorsements" required>
                                <option value="H">H - Hazardous Materials</option>
                                <option value="N">N - Tank Vehicle</option>
                                <option value="P">P - Passenger</option>
                                <option value="S">S - School Bus</option>
                                <option value="T">T - Double/Triple Trailers</option>
                                <option value="X">X - HazMat &amp; Tank Combo</option>
                              </select>
                            </div>
                          </div>
                          <div class="col-md-12">
                            <div class="form-group">
                              <label class="mb-2 d-block font-weight-700"> Expiration Date:</label>
                              <input type="date" class=" gray form-control custom-input" name="expirationDate{{i}}"
                                [(ngModel)]="license.expirationDate" required>
                            </div>
                          </div>

                          <hr *ngIf="i < driverApplication.licenses.length - 1">
                        </ng-container>

                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <!-- Section 3: Driving Experience -->
              <div class="row">
                <div class="col-md-12">
                  <h2 class="font-18 font-weight-700 text-primary mb-4 text-capitalize">3. Driving Experience</h2>
                  <hr>
                  <div class="row g-3">
                    <div class="" id="company-info" style="display: block;">
                      <div class="row">
                        <ng-container *ngFor="let experience of driverApplication.drivingExperiences; let i = index">

                          <div class="col-md-6">
                            <div class="form-group">
                              <label class="mb-2 d-block font-weight-700">Equipment Type:</label>
                              <select class="gray form-control custom-input" name="equipmentType{{i}}" required
                                [(ngModel)]="experience.equipmentType">
                                <option value="" selected hidden></option>
                                <option value="Straight Truck">Straight Truck</option>
                                <option value="Tractor & Semi-Trailer">Tractor & Semi-Trailer</option>
                                <option value="Tractor & 2 trailers">Tractor & 2 trailers</option>
                                <option value="Tractor & Tanker">Tractor & Tanker</option>
                                <option value="Other">Other</option>
                              </select>
                            </div>
                          </div>
                          <div class="col-md-6">
                            <div class="form-group">
                              <label class="mb-2 d-block font-weight-700">Type of Equipment:</label>
                              <select class="form-control custom-input gray" name="typeOfEquipment{{i}}" required
                                [(ngModel)]="experience.typeOfEquipment">
                                <option value="" selected hidden></option>
                                <option value="Van">Van</option>
                                <option value="Tank">Tank</option>
                                <option value="Flat">Flat</option>
                                <option value="Other">Other</option>
                              </select>
                            </div>
                          </div>
                          <div class="col-md-6">
                            <div class="form-group">
                              <label class="mb-2 d-block font-weight-700"> Date:</label>
                              <input type="date" class="form-control custom-input gray"
                                name="drivingExperienceDate1{{i}}" [(ngModel)]="experience.drivingExperienceDate1"
                                required>
                            </div>
                          </div>
                          <div class="col-md-6">
                            <div class="form-group">
                              <label class="mb-2 d-block font-weight-700"> Date:</label>
                              <input type="date" class="form-control custom-input gray"
                                name="drivingExperienceDate2{{i}}" [(ngModel)]="experience.drivingExperienceDate2"
                                required>
                            </div>
                          </div>
                          <div class="col-md-6">
                            <div class="form-group">
                              <label class="mb-2 d-block font-weight-700"> Approx. Total Miles:</label>
                              <input type="text" class="form-control custom-input" name="totalMiles{{i}}"
                                [(ngModel)]="experience.totalMiles" required pattern="^[0-9]+$"
                                #totalMilesRef="ngModel">
                              <div
                                *ngIf="totalMilesRef.invalid && (totalMilesRef.dirty || totalMilesRef.touched || mainForm.submitted)"
                                class="text-danger font-12">
                                Only numbers allowed.
                              </div>
                            </div>
                          </div>
                          <div class="col-md-6">
                            <div class="form-group">
                              <label class="mb-2 d-block font-weight-700"> State Operated In:</label>
                              <input type="text" class="form-control custom-input" name="stateOperatedIn{{i}}"
                                [(ngModel)]="experience.stateOperatedIn" required pattern="^[A-Za-z\s]+$"
                                #stateOperatedInRef="ngModel">
                              <div
                                *ngIf="stateOperatedInRef.invalid && (stateOperatedInRef.dirty || stateOperatedInRef.touched || mainForm.submitted)"
                                class="text-danger font-12">
                                Only letters allowed.
                              </div>
                            </div>
                          </div>
                          <div class="col-md-12 text-end">
                            <button type="button" class="btn btn-danger btn-sm rounded-pill"
                              (click)="removeDrivingExperience(i)"
                              [disabled]="driverApplication.drivingExperiences.length === 1">
                              Remove
                            </button>
                          </div>
                          <hr *ngIf="i < driverApplication.drivingExperiences.length - 1">
                        </ng-container>
                        <div class="text-center">
                          <button type="button" class="btn btn-success btn-sm text-uppercase rounded-pill"
                            style="margin: 10px;" (click)="addDrivingExperience()">
                            <i class="fa fa-plus me-2" aria-hidden="true"></i>Add
                          </button>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="modal-footer justify-content-center">
                <button type="button" class="btn btn-success btn-sm text-uppercase rounded-pill" (click)="goNext()"
                  style="margin: 10px;">Next</button>
              </div>
            </form>
          </div>

          <!-- STEP 2: Employment & Traffic History -->
          <div class="content_acc p-4" id="step2" [style.display]="currentStep === 2 ? 'block' : 'none'">
            <form #step2Form="ngForm">
              <!-- Section 4: Employment History -->
              <div class="row">
                <div class="col-md-12">
                  <h2 class="font-18 font-weight-700 text-primary mb-4 text-capitalize">4. Employment History (Last 10
                    Years)</h2>
                  <hr>
                  <div class="row g-3">
                    <div class="" id="company-info" style="display: block;">
                      <div class="row">
                        <ng-container *ngFor="let employment of driverApplication.employmentHistories; let i = index">
                          <div class="col-md-6">
                            <div class="form-group">
                              <label class="mb-2 d-block font-weight-700"> Employer Name:</label>
                              <input type="text" class="form-control custom-input" name="employerName{{i}}"
                                [(ngModel)]="employment.employerName" required pattern="^[A-Za-z\s]+$"
                                #employerNameRef="ngModel">
                              <div
                                *ngIf="employerNameRef.invalid && (employerNameRef.dirty || employerNameRef.touched || mainForm.submitted)"
                                class="text-danger font-12">
                                Only letters allowed.
                              </div>
                            </div>
                          </div>
                          <div class="col-md-6">
                            <div class="form-group">
                              <label class="mb-2 d-block font-weight-700"> Phone Number:</label>
                              <input type="text" class="form-control custom-input" name="employerPhoneNumber{{i}}"
                                [(ngModel)]="employment.employerPhoneNumber" required pattern="^[0-9]+$" maxlength="15"
                                #employerPhoneNumberRef="ngModel" oninput="this.value=this.value.replace(/[^0-9]/g,'')">
                              <div
                                *ngIf="employerPhoneNumberRef.invalid && (employerPhoneNumberRef.dirty || employerPhoneNumberRef.touched || mainForm.submitted)"
                                class="text-danger font-12">
                                Only numbers allowed.
                              </div>
                            </div>
                          </div>
                          <div class="col-md-6">
                            <div class="form-group">
                              <label class="mb-2 d-block font-weight-700"> Employer Address:</label>
                              <input type="text" class="form-control custom-input" name="employerAddress{{i}}"
                                [(ngModel)]="employment.employerAddress" required>
                            </div>
                          </div>
                          <div class="col-md-6">
                            <div class="form-group">
                              <label class="mb-2 d-block font-weight-700"> Contact Person:</label>
                              <input type="text" class="form-control custom-input" name="employerContactPerson{{i}}"
                                [(ngModel)]="employment.employerContactPerson" required pattern="^[A-Za-z\s]+$"
                                #employerContactPersonRef="ngModel">
                              <div
                                *ngIf="employerContactPersonRef.invalid && (employerContactPersonRef.dirty || employerContactPersonRef.touched || mainForm.submitted)"
                                class="text-danger font-12">
                                Only letters allowed.
                              </div>
                            </div>
                          </div>
                          <div class="col-md-6">
                            <div class="form-group">
                              <label class="mb-2 d-block font-weight-700"> Position Held:</label>
                              <input type="text" class="form-control custom-input" name="positionHeld{{i}}"
                                [(ngModel)]="employment.positionHeld" required pattern="^[A-Za-z\s]+$"
                                #positionHeldRef="ngModel">
                              <div
                                *ngIf="positionHeldRef.invalid && (positionHeldRef.dirty || positionHeldRef.touched || mainForm.submitted)"
                                class="text-danger font-12">
                                Only letters allowed.
                              </div>
                            </div>
                          </div>
                          <div class="col-md-6">
                            <div class="form-group">
                              <label class="mb-2 d-block font-weight-700"> Salary or Pay Rate:</label>
                              <input type="text" class="form-control custom-input" name="salaryOrPayRate{{i}}"
                                [(ngModel)]="employment.salaryOrPayRate" required pattern="^[0-9]+$"
                                #salaryOrPayRateRef="ngModel">
                              <div
                                *ngIf="salaryOrPayRateRef.invalid && (salaryOrPayRateRef.dirty || salaryOrPayRateRef.touched || mainForm.submitted)"
                                class="text-danger font-12">
                                Only numbers allowed.
                              </div>
                            </div>
                          </div>
                          <div class="col-md-6">
                            <div class="form-group">
                              <label class="mb-2 d-block font-weight-700"> Date:</label>
                              <input type="date" class="form-control custom-input gray" name="employmentStartDate{{i}}"
                                [(ngModel)]="employment.employmentStartDate" required>
                            </div>
                          </div>
                          <div class="col-md-6">
                            <div class="form-group">
                              <label class="mb-2 d-block font-weight-700"> Date:</label>
                              <input type="date" class="form-control custom-input gray" name="employmentEndDate{{i}}"
                                [(ngModel)]="employment.employmentEndDate" required>
                            </div>
                          </div>
                          <div class="col-md-12">
                            <div class="form-group">
                              <label class="mb-2 d-block font-weight-700">Reason for Leaving:</label>
                              <textarea
                                [ngStyle]="{'background-color': employment.reasonForLeaving ? 'white' : 'rgb(234, 236, 236)'}"
                                name="reasonForLeaving{{i}}" [(ngModel)]="employment.reasonForLeaving"
                                (ngModelChange)="employment.reasonForLeaving = $event" rows="4"
                                class="form-control custom-input">
                              </textarea>
                            </div>
                          </div>
                          <div class="row">
                            <div class="col-md-4">
                              <div class="form-group">
                                <label class="checkbox-label" style="padding-left: 0;">Was this job subject to FMCSA
                                  regulations?</label><br>
                                <div class="d-flex">
                                  <div class="me-3">
                                    <input type="radio" id="fmcsa_yes{{i}}" name="fmcsa{{i}}" value="yes"
                                      [(ngModel)]="employment.fmcsa">
                                    <label for="fmcsa_yes{{i}}">Yes</label>
                                  </div>
                                  <div>
                                    <input type="radio" id="fmcsa_no{{i}}" name="fmcsa{{i}}" value="no"
                                      [(ngModel)]="employment.fmcsa">
                                    <label for="fmcsa_no{{i}}">No</label>
                                  </div>
                                </div>
                              </div>
                            </div>

                            <div class="col-md-4">
                              <div class="form-group">
                                <label class="checkbox-label" style="padding-left: 0;">Was this a safety-sensitive
                                  function under DOT rules?</label><br>
                                <div class="d-flex">
                                  <div class="me-3">
                                    <input type="radio" id="dot_yes{{i}}" name="dot_sensitive{{i}}" value="yes"
                                      [(ngModel)]="employment.dot_sensitive">
                                    <label for="dot_yes{{i}}">Yes</label>
                                  </div>
                                  <div>
                                    <input type="radio" id="dot_no{{i}}" name="dot_sensitive{{i}}" value="no"
                                      [(ngModel)]="employment.dot_sensitive">
                                    <label for="dot_no{{i}}">No</label>
                                  </div>
                                </div>
                              </div>
                            </div>

                            <div class="col-md-4">
                              <div class="form-group">
                                <label class="checkbox-label" style="padding-left: 0;">Authorization to contact this
                                  employer</label><br>
                                <div class="d-flex">
                                  <div class="me-3">
                                    <input type="radio" id="auth_yes{{i}}" name="auth_contact{{i}}" value="yes"
                                      [(ngModel)]="employment.auth_contact">
                                    <label for="auth_yes{{i}}">Yes</label>
                                  </div>
                                  <div>
                                    <input type="radio" id="auth_no{{i}}" name="auth_contact{{i}}" value="no"
                                      [(ngModel)]="employment.auth_contact">
                                    <label for="auth_no{{i}}">No</label>
                                  </div>
                                </div>
                              </div>
                            </div>

                            <div class="col-md-12">
                              <div class="form-group">
                                <label class="mb-2 d-block font-weight-700">Additional Comments:</label>
                                <textarea name="additionalComments{{i}}" [(ngModel)]="employment.additionalComments"
                                  rows="4" class="form-control custom-input"></textarea>
                              </div>
                            </div>

                            <div class="col-md-12 text-end">
                              <button type="button" class="btn btn-danger btn-sm rounded-pill"
                                (click)="removeEmploymentHistory(i)"
                                [disabled]="driverApplication.employmentHistories.length === 1">
                                Remove
                              </button>
                            </div>
                            <hr *ngIf="i < driverApplication.employmentHistories.length - 1">
                          </div>
                        </ng-container>
                        <div class="text-center">
                          <button type="button" class="btn btn-success btn-sm text-uppercase rounded-pill"
                            style="margin: 10px;" (click)="addEmploymentHistory()">
                            <i class="fa fa-plus me-2" aria-hidden="true"></i>Add
                          </button>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <!-- Section 5: Traffic Convictions -->
              <div class="row">
                <div class="col-md-12">
                  <h2 class="font-18 font-weight-700 text-primary mb-4 text-capitalize">5. Traffic Convictions (Last 3
                    Years)</h2>
                  <hr>
                  <div class="row g-3">
                    <div class="" id="company-info" style="display: block;">
                      <div class="row">
                        <ng-container *ngFor="let conviction of driverApplication.trafficConvictions; let i = index">
                          <div class="col-md-6">
                            <div class="form-group">
                              <label class="mb-2 d-block font-weight-700"> Date:</label>
                              <input type="date" class="form-control custom-input gray"
                                name="trafficConvictionDate{{i}}" [(ngModel)]="conviction.trafficConvictionDate"
                                required>
                            </div>
                          </div>
                          <div class="col-md-6">
                            <div class="form-group">
                              <label class="mb-2 d-block font-weight-700"> Location (City, State):</label>
                              <input type="text" class="form-control custom-input" name="trafficConvictionLocation{{i}}"
                                [(ngModel)]="conviction.trafficConvictionLocation" required pattern="^[A-Za-z\s,]+$"
                                #trafficConvictionLocationRef="ngModel">
                              <div
                                *ngIf="trafficConvictionLocationRef.invalid && (trafficConvictionLocationRef.dirty || trafficConvictionLocationRef.touched || mainForm.submitted)"
                                class="text-danger font-12">
                                Only letters allowed.
                              </div>
                            </div>
                          </div>
                          <div class="col-md-6">
                            <div class="form-group">
                              <label class="mb-2 d-block font-weight-700"> Nature of Violation:</label>
                              <input type="text" class="form-control custom-input" name="trafficConvictionNature{{i}}"
                                [(ngModel)]="conviction.trafficConvictionNature" required pattern="^[A-Za-z\s]+$"
                                #trafficConvictionNatureRef="ngModel">
                              <div
                                *ngIf="trafficConvictionNatureRef.invalid && (trafficConvictionNatureRef.dirty || trafficConvictionNatureRef.touched || mainForm.submitted)"
                                class="text-danger font-12">
                                Only letters allowed.
                              </div>
                            </div>
                          </div>
                          <div class="col-md-6">
                            <div class="form-group">
                              <label class="mb-2 d-block font-weight-700"> Penalty/Action Taken:</label>
                              <input type="text" class="form-control custom-input" name="trafficConvictionPenalty{{i}}"
                                [(ngModel)]="conviction.trafficConvictionPenalty" required pattern="^[A-Za-z0-9\s]+$"
                                #trafficConvictionPenaltyRef="ngModel">
                              <div
                                *ngIf="trafficConvictionPenaltyRef.invalid && (trafficConvictionPenaltyRef.dirty || trafficConvictionPenaltyRef.touched || mainForm.submitted)"
                                class="text-danger font-12">
                                Only letters and numbers allowed.
                              </div>
                            </div>
                          </div>
                          <div class="col-md-6">
                            <label class="checkbox-label" style="padding-left: 0;">Was it in a Commercial Motor
                              Vehicle?</label><br>
                            <div class="d-flex">
                              <div class="me-3">
                                <input type="radio" id="cmv_yes{{i}}" name="cmv{{i}}" value="yes"
                                  [(ngModel)]="conviction.cmv">
                                <label for="cmv_yes{{i}}">Yes</label>
                              </div>
                              <div>
                                <input type="radio" id="cmv_no{{i}}" name="cmv{{i}}" value="no"
                                  [(ngModel)]="conviction.cmv">
                                <label for="cmv_no{{i}}">No</label>
                              </div>
                            </div>
                          </div>
                          <div class="col-md-12 text-end">
                            <button type="button" class="btn btn-danger btn-sm rounded-pill"
                              (click)="removeTrafficConviction(i)"
                              [disabled]="driverApplication.trafficConvictions.length === 1">
                              Remove
                            </button>
                          </div>
                          <hr *ngIf="i < driverApplication.trafficConvictions.length - 1">
                        </ng-container>
                        <div class="text-center">
                          <button type="button" class="btn btn-success btn-sm text-uppercase rounded-pill"
                            style="margin: 10px;" (click)="addTrafficConviction()">
                            <i class="fa fa-plus me-2" aria-hidden="true"></i>Add
                          </button>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <!-- Section 6: Accident Record -->
              <div class="row">
                <div class="col-md-12">
                  <h2 class="font-18 font-weight-700 text-primary mb-4 text-capitalize">6. Accident Record (Last 3
                    Years)</h2>
                  <hr>
                  <div class="row g-3">
                    <ng-container *ngFor="let accident of driverApplication.accidentRecords; let i = index">
                      <div class="col-md-6">
                        <div class="form-group">
                          <label class="mb-2 d-block font-weight-700"> Date:</label>
                          <input type="date" class="form-control custom-input gray" name="accidentDate{{i}}"
                            [(ngModel)]="accident.accidentDate" required>
                        </div>
                      </div>
                      <div class="col-md-6">
                        <div class="form-group">
                          <label class="mb-2 d-block font-weight-700"> Location (City, State):</label>
                          <input type="text" class="form-control custom-input" name="accidentLocation{{i}}"
                            [(ngModel)]="accident.accidentLocation" required pattern="^[A-Za-z\s,]+$"
                            #accidentLocationRef="ngModel">
                          <div
                            *ngIf="accidentLocationRef.invalid && (accidentLocationRef.dirty || accidentLocationRef.touched || mainForm.submitted)"
                            class="text-danger font-12">
                            Only letters allowed.
                          </div>
                        </div>
                      </div>
                      <div class="col-md-6">
                        <div class="form-group">
                          <label class="mb-2 d-block font-weight-700"> Nature of Accident:</label>
                          <input type="text" class="form-control custom-input" name="accidentNature{{i}}"
                            [(ngModel)]="accident.accidentNature" required pattern="^[A-Za-z\s]+$"
                            #accidentNatureRef="ngModel">
                          <div
                            *ngIf="accidentNatureRef.invalid && (accidentNatureRef.dirty || accidentNatureRef.touched || mainForm.submitted)"
                            class="text-danger font-12">
                            Only letters allowed.
                          </div>
                        </div>
                      </div>
                      <div class="col-md-6">
                        <div class="form-group">
                          <label class="mb-2 d-block font-weight-700"> Number of Fatalities:</label>
                          <input type="text" class="form-control custom-input" name="accidentFatalities{{i}}"
                            [(ngModel)]="accident.accidentFatalities" required pattern="^[0-9]+$"
                            #accidentFatalitiesRef="ngModel">
                          <div
                            *ngIf="accidentFatalitiesRef.invalid && (accidentFatalitiesRef.dirty || accidentFatalitiesRef.touched || mainForm.submitted)"
                            class="text-danger font-12">
                            Only numbers allowed.
                          </div>
                        </div>
                      </div>
                      <div class="col-md-6">
                        <div class="form-group">
                          <label class="mb-2 d-block font-weight-700"> Number of Injuries:</label>
                          <input type="number" class="form-control custom-input" name="accidentInjuries{{i}}"
                            [(ngModel)]="accident.accidentInjuries" required #accidentInjuriesRef="ngModel">
                          <div
                            *ngIf="accidentInjuriesRef.invalid && (accidentInjuriesRef.dirty || accidentInjuriesRef.touched || mainForm.submitted)"
                            class="text-danger font-12">
                            Only numbers allowed.
                          </div>
                        </div>
                      </div>
                      <div class="col-md-6">
                        <div class="form-group">
                          <label class="mb-2 d-block font-weight-700"> Hazardous Material Spill:</label>
                          <div class="d-flex">
                            <div class="me-3">
                              <input type="radio" id="hazmat_yes{{i}}" name="hazmat_spill{{i}}" value="yes"
                                [(ngModel)]="accident.hazmat_spill">
                              <label for="hazmat_yes{{i}}">Yes</label>
                            </div>
                            <div>
                              <input type="radio" id="hazmat_no{{i}}" name="hazmat_spill{{i}}" value="no"
                                [(ngModel)]="accident.hazmat_spill">
                              <label for="hazmat_no{{i}}">No</label>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="col-md-12 text-end">
                        <button type="button" class="btn btn-danger btn-sm rounded-pill"
                          (click)="removeAccidentRecord(i)" [disabled]="driverApplication.accidentRecords.length === 1">
                          Remove
                        </button>
                      </div>
                      <hr *ngIf="i < driverApplication.accidentRecords.length - 1">
                    </ng-container>
                    <div class="text-center">
                      <button type="button" class="btn btn-success btn-sm text-uppercase rounded-pill"
                        style="margin: 10px;" (click)="addAccidentRecord()">
                        <i class="fa fa-plus me-2" aria-hidden="true"></i>Add
                      </button>
                    </div>
                  </div>
                </div>
              </div>
              <div class="modal-footer justify-content-center"
                style="border-top: 1px solid #ccc; padding-top: 15px; margin-top: 15px;">
                <button type="button" class="btn btn-outline-secondary btn-sm text-uppercase rounded-pill"
                  (click)="goBack()" style="margin: 10px;">Back</button>
                <button type="button" class="btn btn-success btn-sm text-uppercase rounded-pill" (click)="goNext()"
                  style="margin: 10px;">Next</button>
              </div>
            </form>
          </div>

          <!-- STEP 3: Background & Education -->
          <div class="content_acc p-4" id="step3" [style.display]="currentStep === 3 ? 'block' : 'none'">
            <form #step3Form="ngForm">
              <!-- Section 7: Criminal History -->
              <div class="row">
                <div class="col-md-12">
                  <h2 class="font-18 font-weight-700 text-primary mb-4 text-capitalize">7. Criminal History</h2>
                </div>
                <div class="card card-body">

                  <div class="row">
                    <div class="col-md-12">
                      <div class="form-group">
                        <label class="checkbox-label" style="padding-left: 0;">
                          Have you ever been denied a license, permit, or privilege to operate a motor vehicle?
                        </label><br>
                        <div class="d-flex">
                          <div class="me-3">
                            <input type="radio" id="denied_yes" name="license_denied" value="yes"
                              [(ngModel)]="driverApplication.license_denied" (change)="isLicenseDeniedYes = true">
                            <label for="denied_yes">Yes</label>
                          </div>
                          <div>
                            <input type="radio" id="denied_no" name="license_denied" value="no"
                              [(ngModel)]="driverApplication.license_denied" (change)="isLicenseDeniedYes = false">
                            <label for="denied_no">No</label>
                          </div>
                        </div>
                      </div>

                      <div [ngClass]="{'collapse': !isLicenseDeniedYes, 'show': isLicenseDeniedYes}">
                        <div class="card card-body">
                          Please provide details:
                          <textarea name="deniedLicenseDetails" [(ngModel)]="driverApplication.deniedLicenseDetails"
                            rows="4" class="form-control custom-input"></textarea>
                        </div>
                      </div>
                    </div>

                    <div class="col-md-12">
                      <div class="form-group">
                        <label class="checkbox-label" style="padding-left: 0;">
                          Has any license, permit, or privilege ever been suspended or revoked?
                        </label><br>
                        <div class="d-flex">
                          <div class="me-3">
                            <input type="radio" id="revoked_yes" name="license_revoked" value="yes"
                              [(ngModel)]="driverApplication.license_revoked" (change)="isLicenseRevokedYes = true">
                            <label for="revoked_yes">Yes</label>
                          </div>
                          <div>
                            <input type="radio" id="revoked_no" name="license_revoked" value="no"
                              [(ngModel)]="driverApplication.license_revoked" (change)="isLicenseRevokedYes = false">
                            <label for="revoked_no">No</label>
                          </div>
                        </div>
                      </div>

                      <div [ngClass]="{'collapse': !isLicenseRevokedYes, 'show': isLicenseRevokedYes}">
                        <div class="card card-body">
                          Please provide details:
                          <textarea name="suspendedDetails" [(ngModel)]="driverApplication.suspendedDetails" rows="4"
                            class="form-control custom-input"></textarea>
                        </div>
                      </div>
                    </div>


                    <div class="col-md-12">
                      <div class="form-group">
                        <label class="checkbox-label" style="padding-left: 0;">
                          Have you ever been convicted of a felony?
                        </label><br>
                        <div class="d-flex">
                          <div class="me-3">
                            <input type="radio" id="felony_yes" name="felony" value="yes"
                              [(ngModel)]="driverApplication.felony" (change)="isFelonyYes = true">
                            <label for="felony_yes">Yes</label>
                          </div>
                          <div>
                            <input type="radio" id="felony_no" name="felony" value="no"
                              [(ngModel)]="driverApplication.felony" (change)="isFelonyYes = false">
                            <label for="felony_no">No</label>
                          </div>
                        </div>
                      </div>

                      <div [ngClass]="{'collapse': !isFelonyYes, 'show': isFelonyYes}">
                        <div class="card card-body">
                          Please provide details:
                          <textarea name="felonyDetails" [(ngModel)]="driverApplication.felonyDetails" rows="4"
                            class="form-control custom-input"></textarea>
                        </div>
                      </div>
                    </div>


                    <div class="col-md-12">
                      <div class="form-group">
                        <label class="checkbox-label" style="padding-left: 0;">
                          Have you ever been convicted of driving under the influence (DUI)?
                        </label><br>
                        <div class="d-flex">
                          <div class="me-3">
                            <input type="radio" id="dui_yes" name="dui" value="yes" [(ngModel)]="driverApplication.dui"
                              (change)="isDuiYes = true">
                            <label for="dui_yes">Yes</label>
                          </div>
                          <div>
                            <input type="radio" id="dui_no" name="dui" value="no" [(ngModel)]="driverApplication.dui"
                              (change)="isDuiYes = false">
                            <label for="dui_no">No</label>
                          </div>
                        </div>
                      </div>

                      <div [ngClass]="{'collapse': !isDuiYes, 'show': isDuiYes}">
                        <div class="card card-body">
                          Please provide details:
                          <textarea name="dui_details" [(ngModel)]="driverApplication.dui_details" rows="4"
                            class="form-control custom-input"></textarea>
                        </div>
                      </div>
                    </div>

                  </div>
                </div>
              </div>
              <!-- Section 8: Military Service -->
              <div class="row">
                <div class="col-md-12">
                  <h2 class="font-18 font-weight-700 text-primary mb-4 text-capitalize">8. Military Service:</h2>
                </div>
                <div class="card card-body">
                  <div class="row">
                    <div class="col-md-12">
                      <div class="form-group">
                        <label class="checkbox-label" style="padding-left: 0;">
                          Have you served in the U.S. military?
                        </label><br>
                        <div class="d-flex">
                          <div class="me-3">
                            <input type="radio" id="military_yes" name="servedInMilitary" value="yes"
                              [(ngModel)]="driverApplication.servedInMilitary" (change)="isMilitaryYes = true">
                            <label for="military_yes">Yes</label>
                          </div>
                          <div>
                            <input type="radio" id="military_no" name="servedInMilitary" value="no"
                              [(ngModel)]="driverApplication.servedInMilitary" (change)="isMilitaryYes = false">
                            <label for="military_no">No</label>
                          </div>
                        </div>
                      </div>

                      <div [ngClass]="{'collapse': !isMilitaryYes, 'show': isMilitaryYes}">
                        <div class="row">
                          <div class="col-md-6">
                            <div class="form-group">
                              <label class="mb-2 d-block font-weight-700">Branch of Service:</label>
                              <select class="form-control custom-input" name="militaryBranch"
                                [(ngModel)]="driverApplication.militaryBranch" required>
                                <option value="">Select Branch</option>
                                <option value="Army">Army</option>
                                <option value="Navy">Navy</option>
                                <option value="Air Force">Air Force</option>
                                <option value="Marines">Marines</option>
                                <option value="Coast Guard">Coast Guard</option>
                              </select>
                            </div>
                          </div>
                          <div class="col-md-6">
                            <div class="form-group">
                              <label class="mb-2 d-block font-weight-700">Rank at Discharge:</label>
                              <input type="text" class="form-control custom-input" name="rankAtDischarge"
                                [(ngModel)]="driverApplication.rankAtDischarge" required>
                            </div>
                          </div>
                          <div class="col-md-6">
                            <div class="form-group">
                              <label class="mb-2 d-block font-weight-700">Dates of Service (From):</label>
                              <input type="date" class="form-control custom-input" name="serviceFromDate"
                                [(ngModel)]="driverApplication.serviceFromDate" required>
                            </div>
                          </div>
                          <div class="col-md-6">
                            <div class="form-group">
                              <label class="mb-2 d-block font-weight-700">Dates of Service (To):</label>
                              <input type="date" class="form-control custom-input" name="serviceToDate"
                                [(ngModel)]="driverApplication.serviceToDate" required>
                            </div>
                          </div>
                          <div class="col-md-12">
                            <div class="card card-body">
                              Relevant driving/training experience:
                              <textarea name="militaryExperience" [(ngModel)]="driverApplication.militaryExperience"
                                rows="4" class="form-control custom-input"></textarea>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <!-- Section 9: Education -->
              <div class="row">
                <div class="col-md-12">
                  <h2 class="font-18 font-weight-700 text-primary mb-4 text-capitalize">9. Education:</h2>
                </div>
                <div class="card card-body">
                  <div class="row">
                    <div class="col-md-12">
                      <div class="form-group">
                        <label class="mb-2 d-block font-weight-700"> Highest level of education completed:</label>
                        <select class="form-control custom-input gray" name="educationLevel"
                          [(ngModel)]="driverApplication.educationLevel" required>
                          <option>Select Education Level</option>
                          <option value="College">College</option>
                          <option value="High School">High School</option>
                          <option value="Other">Other</option>
                        </select>
                      </div>
                    </div>
                    <div class="col-md-12">
                      <div class="form-group">
                        <label class="mb-2 d-block font-weight-700"> Name of School:</label>
                        <input type="text" class="form-control custom-input" name="schoolName"
                          [(ngModel)]="driverApplication.schoolName" required pattern="^[A-Za-z\s]+$"
                          #schoolNameRef="ngModel">
                        <div
                          *ngIf="schoolNameRef.invalid && (schoolNameRef.dirty || schoolNameRef.touched || mainForm.submitted)"
                          class="text-danger font-12">
                          Only letters allowed.
                        </div>
                      </div>
                    </div>
                    <div class="col-md-6">
                      <div class="form-group">
                        <label class="mb-2 d-block font-weight-700"> City:</label>
                        <input type="text" class="form-control custom-input" name="schoolCity"
                          [(ngModel)]="driverApplication.schoolCity" required pattern="^[A-Za-z\s]+$"
                          #schoolCityRef="ngModel">
                        <div
                          *ngIf="schoolCityRef.invalid && (schoolCityRef.dirty || schoolCityRef.touched || mainForm.submitted)"
                          class="text-danger font-12">
                          Only letters allowed.
                        </div>
                      </div>
                    </div>
                    <div class="col-md-6">
                      <div class="form-group">
                        <label class="mb-2 d-block font-weight-700"> State:</label>
                        <select class="form-control custom-input gray" name="schoolState"
                          [(ngModel)]="driverApplication.schoolState" required>
                          <option value="">Select State</option>
                          <option value="Alabama">Alabama</option>
                          <option value="Alaska">Alaska</option>
                          <option value="Arizona">Arizona</option>
                          <option value="Arkansas">Arkansas</option>
                          <option value="California">California</option>
                          <option value="Colorado">Colorado</option>
                          <option value="Connecticut">Connecticut</option>
                          <option value="Delaware">Delaware</option>
                          <option value="Florida">Florida</option>
                          <option value="Georgia">Georgia</option>
                          <option value="Hawaii">Hawaii</option>
                          <option value="Idaho">Idaho</option>
                          <option value="Illinois">Illinois</option>
                          <option value="Indiana">Indiana</option>
                          <option value="Iowa">Iowa</option>
                          <option value="Kansas">Kansas</option>
                          <option value="Kentucky">Kentucky</option>
                          <option value="Louisiana">Louisiana</option>
                          <option value="Maine">Maine</option>
                          <option value="Maryland">Maryland</option>
                          <option value="Massachusetts">Massachusetts</option>
                          <option value="Michigan">Michigan</option>
                          <option value="Minnesota">Minnesota</option>
                          <option value="Mississippi">Mississippi</option>
                          <option value="Missouri">Missouri</option>
                          <option value="Montana">Montana</option>
                          <option value="Nebraska">Nebraska</option>
                          <option value="Nevada">Nevada</option>
                          <option value="New Hampshire">New Hampshire</option>
                          <option value="New Jersey">New Jersey</option>
                          <option value="New Mexico">New Mexico</option>
                          <option value="New York">New York</option>
                          <option value="North Carolina">North Carolina</option>
                          <option value="North Dakota">North Dakota</option>
                          <option value="Ohio">Ohio</option>
                          <option value="Oklahoma">Oklahoma</option>
                          <option value="Oregon">Oregon</option>
                          <option value="Pennsylvania">Pennsylvania</option>
                          <option value="Rhode Island">Rhode Island</option>
                          <option value="South Carolina">South Carolina</option>
                          <option value="South Dakota">South Dakota</option>
                          <option value="Tennessee">Tennessee</option>
                          <option value="Texas">Texas</option>
                          <option value="Utah">Utah</option>
                          <option value="Vermont">Vermont</option>
                          <option value="Virginia">Virginia</option>
                          <option value="Washington">Washington</option>
                          <option value="West Virginia">West Virginia</option>
                          <option value="Wisconsin">Wisconsin</option>
                          <option value="Wyoming">Wyoming</option>
                        </select>
                      </div>
                    </div>
                    <div class="col-md-12">
                      <div class="form-group">
                        <label class="mb-2 d-block font-weight-700"> Area of study or certification:</label>
                        <input type="text" class="form-control custom-input" name="areaOfStudy"
                          [(ngModel)]="driverApplication.areaOfStudy" required pattern="^[A-Za-z\s]+$"
                          #areaOfStudyRef="ngModel">
                        <div
                          *ngIf="areaOfStudyRef.invalid && (areaOfStudyRef.dirty || areaOfStudyRef.touched || mainForm.submitted)"
                          class="text-danger font-12">
                          Only letters allowed.
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="modal-footer justify-content-center">
                <button type="button" class="btn btn-outline-secondary btn-sm text-uppercase rounded-pill"
                  (click)="goBack()" style="margin: 10px;">Back</button>
                <button type="button" class="btn btn-success btn-sm text-uppercase rounded-pill" (click)="goNext()"
                  style="margin: 10px;">Next</button>
              </div>
            </form>
          </div>

          <!-- STEP 4: Medical & Substance History -->
          <div class="content_acc p-4" id="step4" [style.display]="currentStep === 4 ? 'block' : 'none'">
            <form #step4Form="ngForm">
              <!-- Section 10: Medical Certification -->
              <div class="row">
                <div class="col-md-12">
                  <h2 class="font-18 font-weight-700 text-primary mb-4 text-capitalize">10. Medical Certification:
                  </h2>
                </div>
                <div class="col-md-12">
                  <div class="form-group">
                    <label class="checkbox-label" style="padding-left: 0;">
                      Do you currently possess a valid DOT Medical Examiner's Certificate?
                    </label><br>
                    <div class="d-flex">
                      <div class="me-3">
                        <input type="radio" id="dot_med_cert_yes" name="dot_med_cert" value="yes"
                          [(ngModel)]="driverApplication.dot_med_cert">
                        <label for="dot_med_cert_yes">Yes</label>
                      </div>
                      <div>
                        <input type="radio" id="dot_med_cert_no" name="dot_med_cert" value="no"
                          [(ngModel)]="driverApplication.dot_med_cert">
                        <label for="dot_med_cert_no">No</label>
                      </div>
                    </div>
                  </div>

                </div>
                <div class="card card-body">
                  <div class="row">
                    <div class="col-md-12 text-center">
                      <div class="form-group">
                        <label class="mb-2 d-block font-weight-700"> Branch of Service:</label>
                        <div class="file-upload" id="medicalCertificateUpload">
                          <div class="file-upload-icon">
                            <i class="fas fa-cloud-upload-alt"></i>
                          </div>
                          <p>Click to upload or drag and drop</p>
                          <input type="file" class="form-control" (change)="onMedicalCardFileChange($event)">
                          <p class="small-text">PDF, JPG, or PNG (Max 5MB)</p>
                        </div>
                      </div>
                    </div>
                  </div>
      </div>
                <div class="col-md-12 mt-10">
                  <div class="form-group">
                    <label class="checkbox-label" style="padding-left: 0;">
                      Do you have any medical conditions that may affect your ability to drive?
                    </label><br>
                    <div class="d-flex">
                      <div class="me-3">
                        <input type="radio" id="medical_condition_yes" name="medical_condition" value="yes"
                          [(ngModel)]="driverApplication.medical_condition">
                        <label for="medical_condition_yes">Yes</label>
                      </div>
                      <div>
                        <input type="radio" id="medical_condition_no" name="medical_condition" value="no"
                          [(ngModel)]="driverApplication.medical_condition">
                        <label for="medical_condition_no">No</label>
                      </div>
                    </div>
                  </div>

                </div>
              </div>
              <!-- Section 11: Alcohol and Controlled Substances History -->
              <div class="row">
                <div class="col-md-12">
                  <h2 class="font-18 font-weight-700 text-primary mb-4 text-capitalize">11. Alcohol and Controlled
                    Substances History:</h2>
                </div>
                <div class="p-0 mb-2">
                  <div  style="display: flex; justify-content: center; align-items: center; margin-bottom: 15px;">
                    <button 
                      style="color: hsl(0, 0%, 96%); background-color: rgb(0, 71, 189); height: 30px; font-size: 0.75rem; padding: 0 12px;"
                      class="btn text-uppercase rounded-pill" type="button" data-bs-toggle="collapse"
                      (click)="showDrugAlcoholcollapse = !showDrugAlcoholcollapse">
                      DOT Drug & Alcohol Testing Regulations <i class="ri-arrow-down-s-fill"></i>
                    </button>
                  </div>


                  <div class="collapse mt-2" id="myCollapse" [class.show]="showDrugAlcoholcollapse">

                    <div class="card card-body">
                      Under DOT regulations (40.25), you must disclose any previous violations of drug and alcohol
                      testing rules, including positive tests, refusals to test, or other violations. Providing false
                      information may disqualify you from employment.
                    </div>
                  </div>
                  <div class="card card-body">
                    <div class="row">

                      <!-- First Group -->
                      <div class="col-md-12">
                        <div class="form-group">
                          <label class="checkbox-label" style="padding-left: 0;">
                            Have you ever tested positive on any DOT-mandated drug or alcohol test?
                          </label><br>
                          <div class="d-flex">
                            <div class="me-3">
                              <input type="radio" id="dot_test_1_yes" name="dot_test_1" value="yes"
                                [(ngModel)]="driverApplication.dot_test_1" (change)="isDotTest1Yes = true">
                              <label for="dot_test_1_yes">Yes</label>
                            </div>
                            <div>
                              <input type="radio" id="dot_test_1_no" name="dot_test_1" value="no"
                                [(ngModel)]="driverApplication.dot_test_1" (change)="isDotTest1Yes = false">
                              <label for="dot_test_1_no">No</label>
                            </div>
                          </div>
                        </div>
                        <div [ngClass]="{ 'collapse': !isDotTest1Yes, 'show': isDotTest1Yes }">
                          <div class="card card-body">
                            Please provide details and documentation of successful completion of return-to-duty
                            process:
                            <textarea name="positiveTestDetails" [(ngModel)]="driverApplication.positiveTestDetails"
                              rows="4" class="form-control custom-input"></textarea>
                          </div>
                        </div>
                      </div>

                      <!-- Second Group -->
                      <div class="col-md-12">
                        <div class="form-group">
                          <label class="checkbox-label" style="padding-left: 0;">
                            Have you refused a DOT-mandated drug or alcohol test?
                          </label><br>
                          <div class="d-flex">
                            <div class="me-3">
                              <input type="radio" id="dot_test_2_yes" name="dot_test_2" value="yes"
                                [(ngModel)]="driverApplication.dot_test_2" (change)="isDotTest2Yes = true">
                              <label for="dot_test_2_yes">Yes</label>
                            </div>
                            <div>
                              <input type="radio" id="dot_test_2_no" name="dot_test_2" value="no"
                                [(ngModel)]="driverApplication.dot_test_2" (change)="isDotTest2Yes = false">
                              <label for="dot_test_2_no">No</label>
                            </div>
                          </div>
                        </div>
                        <div [ngClass]="{ 'collapse': !isDotTest2Yes, 'show': isDotTest2Yes }">
                          <div class="card card-body">
                            Please provide details:
                            <textarea name="refusedTestDetails" [(ngModel)]="driverApplication.refusedTestDetails"
                              rows="4" class="form-control custom-input"></textarea>
                          </div>
                        </div>
                      </div>

                      <!-- Third Group -->
                      <div class="col-md-12">
                        <div class="form-group">
                          <label class="checkbox-label" style="padding-left: 0;">
                            Have you ever completed a SAP program?
                          </label><br>
                          <div class="d-flex">
                            <div class="me-3">
                              <input type="radio" id="dot_test_3_yes" name="dot_test_3" value="yes"
                                [(ngModel)]="driverApplication.dot_test_3" (change)="isDotTest3Yes = true">
                              <label for="dot_test_3_yes">Yes</label>
                            </div>
                            <div>
                              <input type="radio" id="dot_test_3_no" name="dot_test_3" value="no"
                                [(ngModel)]="driverApplication.dot_test_3" (change)="isDotTest3Yes = false">
                              <label for="dot_test_3_no">No</label>
                            </div>
                          </div>
                        </div>
                        <div [ngClass]="{ 'collapse': !isDotTest3Yes, 'show': isDotTest3Yes }">
                          <div class="card card-body">
                            Please provide details:
                            <textarea name="otherViolationsDetails"
                              [(ngModel)]="driverApplication.otherViolationsDetails" rows="4"
                              class="form-control custom-input"></textarea>
                          </div>
                        </div>
                      </div>

                    </div>
                  </div>
                </div>
              </div>
              <div class="modal-footer justify-content-center">
                <button type="button" class="btn btn-outline-secondary btn-sm text-uppercase rounded-pill"
                  (click)="goBack()" style="margin: 10px;">Back</button>
                <button type="button" class="btn btn-success btn-sm text-uppercase rounded-pill" (click)="goNext()"
                  style="margin: 10px;">Next</button>
              </div>
            </form>
          </div>

          <!-- STEP 5: Consents & Certification -->
          <div class="content_acc p-4" id="step5" [style.display]="currentStep === 5 ? 'block' : 'none'">
            <form (ngSubmit)="submitForm()" #mainForm="ngForm">
              <!-- Section 12: MVR Consent -->
              <div class="row">
                <div class="col-md-12">
                  <h2 class="font-18 font-weight-700 text-primary mb-4 text-capitalize">12. Motor Vehicle Record (MVR)
                    Consent:</h2>
                </div>
                <div class="p-0 mb-2">
                  <div style="display: flex; justify-content: center; align-items: center;">
                    <button
                      style="color: hsl(0, 0%, 96%); background-color: rgb(0, 71, 189); height: 30px; font-size: 0.75rem; padding: 0 16px; min-width: 60px;"
                      class="btn text-uppercase rounded-pill" type="button" data-bs-toggle="collapse"
                      (click)="MotorVehicleRecord = !MotorVehicleRecord">
                      About MVR Checks <i class="ri-arrow-down-s-fill"></i>
                    </button>
                  </div>
                  <div class="collapse mt-2" id="myCollapse" [class.show]="MotorVehicleRecord">
                    <div class="card card-body">
                      Federal Motor Carrier Safety Regulations (FMCSR) require employers to review the driving record
                      of all applicants for safety-sensitive positions. Your Motor Vehicle Record (MVR) will be
                      reviewed for any violations, suspensions, or revocations that may affect your eligibility for
                      employment.By consenting below, you authorize the release of your MVR to the employer for
                      employment purposes only.
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-md-12">
                      <div class="form-group">
                        <label class="checkbox-label mt-20" style="padding-left: 0;">
                          I consent to the release of my Motor Vehicle Record (MVR) as described above
                        </label><br>
                        <div class="d-flex">
                          <div class="me-3">
                            <input type="radio" id="mvr_consent_yes" name="mvr_consent" value="yes"
                              [(ngModel)]="driverApplication.mvr_consent">
                            <label for="mvr_consent_yes">Yes</label>
                          </div>
                          <div>
                            <input type="radio" id="mvr_consent_no" name="mvr_consent" value="no"
                              [(ngModel)]="driverApplication.mvr_consent">
                            <label for="mvr_consent_no">No</label>
                          </div>
                        </div>
                      </div>

                    </div>
                  </div>
                </div>
                <div class="card card-body" >
                  <div class="row">
                    <!-- Signature Input Section -->
                    <div class="row">
                      <div class="col-md-12">
                        <div class="form-field">
                          <label class="mb-2 d-block font-weight-700">Enter Your Name for Signature</label>
                          <!-- <p>Sign in the box below using your finger or stylus</p> -->
                          <input type="text" [(ngModel)]="driverApplication.mvrSignature" (input)="updateSignature()"
                            class="form-control signature-input custom-input gray" placeholder="Type your full name"
                            name="mvrSignature" required>
                        </div>
                      </div>
                    </div>
                    <div *ngIf="driverApplication.mvrSignature" class="final-signature">
                      <h5>Your Final Signature:</h5>
                      <div class="signature-output">{{ driverApplication.mvrSignature }}</div>
                    </div>
                    <div class="col-md-12 ">
                      <div class="form-group">
                        <label class="mb-2 d-block font-weight-700 "> Date:</label>
                        <input type="date" class="form-control custom-input gray" name="mvrConsentDate"
                          [(ngModel)]="driverApplication.mvrConsentDate" required>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <!-- Section 13: PSP -->
              <div class="row">
                <div class="col-md-12">
                  <h2 class="font-18 font-weight-700 text-primary mb-4 text-capitalize">13. FMCSA Pre-Employment
                    Screening Program (PSP):</h2>
                </div>
                <div class="p-0 mb-2">
                  <div style="display: flex; justify-content: center; align-items: center;">
                    <button
                      style="color: hsl(0, 0%, 96%); background-color: rgb(0, 71, 189); height: 30px; font-size: 0.75rem; padding: 0 16px; min-width: 60px;"
                      class="btn text-uppercase rounded-pill" type="button" data-bs-toggle="collapse"
                      (click)="FMCSA = !FMCSA">
                      About PSP Reports <i class="ri-arrow-down-s-fill"></i>
                    </button>
                  </div>
                  <div class="collapse mt-2 " id="myCollapse" [class.show]="FMCSA">
                    <div class="card card-body"> The Pre-Employment Screening Program (PSP) allows motor carriers
                      access to a driver's five-year crash and three-year inspection history as part of the hiring
                      process. Your PSP report will include:
                      <br>
                      1. Crash data from the past 5 years<br>
                      2. Inspection data from the past 3 years<br>
                      3. Details of any violations found during inspections<br> This information helps carriers make
                      more informed hiring decisions and improve highway safety. Your PSP report will only be used for
                      employment purposes.
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-md-12">
                      <div class="form-group">
                        <label class="checkbox-label mt-20" style="padding-left: 0;">
                          I authorize the employer to request my PSP Report (Optional)
                        </label><br>
                        <div class="d-flex">
                          <div class="me-3">
                            <input type="radio" id="psp_report_yes" name="psp_report" value="yes"
                              [(ngModel)]="driverApplication.psp_report">
                            <label for="psp_report_yes">Yes</label>
                          </div>
                          <div>
                            <input type="radio" id="psp_report_no" name="psp_report" value="no"
                              [(ngModel)]="driverApplication.psp_report">
                            <label for="psp_report_no">No</label>
                          </div>
                        </div>
                      </div>

                    </div>
                  </div>
                </div>
                <div class="card card-body">
                  <div class="row">
                    <!-- Signature Input Section -->
                    <div class="row">
                      <div class="col-md-12">
                        <div class="form-field">
                          <label class="mb-2 d-block font-weight-700">Enter Your Name for Signature</label>
                          <!-- <p>Sign in the box below using your finger or stylus</p> -->
                          <input type="text" [(ngModel)]="driverApplication.pspSignature" (input)="updateSignature()"
                            class="form-control signature-input custom-input gray" placeholder="Type your full name"
                            name="pspSignature" required>
                        </div>
                      </div>
                    </div>
                    <div *ngIf="driverApplication.pspSignature" class="final-signature">
                      <h5>Your Final Signature:</h5>
                      <div class="signature-output">{{ driverApplication.pspSignature }}</div>
                    </div>
                    <div class="col-md-12">
                      <div class="form-group">
                        <label class="mb-2 d-block font-weight-700"> Date:</label>
                        <input type="date" class="form-control custom-input gray" name="pspConsentDate"
                          [(ngModel)]="driverApplication.pspConsentDate" required>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <!-- Section 14: Safety Performance History -->
              <div class="row">
                <div class="col-md-12">
                  <h2 class="font-18 font-weight-700 text-primary mb-4 text-capitalize">14. Safety Performance
                    History:</h2>
                </div>
                <div class="p-0 mb-2">
                  <!-- Toggle Button -->
                  <div style="display: flex; justify-content: center; align-items: center;">
                    <button
                      style="color: hsl(0, 0%, 96%); background-color: rgb(0, 71, 189); height: 30px; font-size: 0.75rem; padding: 0 16px; min-width: 60px;"
                      class="btn text-uppercase rounded-pill" type="button" data-bs-toggle="collapse"
                      (click)="SafetyPerformanceHistory = !SafetyPerformanceHistory">
                      About Safety Performance History <i class="ri-arrow-down-s-fill"></i>
                    </button>
                  </div>
                  <!-- Collapsible Content -->
                  <div class="collapse mt-2" id="myCollapse" [class.show]="SafetyPerformanceHistory">
                    <div class="card card-body">
                      Federal regulations require motor carriers to investigate the safety performance history of new
                      drivers from all previous DOT-regulated employers during the past three years.<br>
                      By consenting below, you authorize the release of your safety performance history, which may
                      include:<br>

                      1. Accidents involving motor vehicles<br>
                      2. Drug and alcohol testing violations<br>
                      3. Employment verification for DOT-regulated positions
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-md-12">
                      <div class="form-group">
                        <label class="checkbox-label mt-20" style="padding-left: 0;">
                          I consent to the release of my safety performance history as described above
                        </label><br>
                        <div class="d-flex">
                          <div class="me-3">
                            <input type="radio" id="SafetyPerformanceHistory_yes" name="SafetyPerformanceHistory"
                              value="yes" [(ngModel)]="driverApplication.SafetyPerformanceHistory">
                            <label for="SafetyPerformanceHistory_yes">Yes</label>
                          </div>
                          <div>
                            <input type="radio" id="SafetyPerformanceHistory_no" name="SafetyPerformanceHistory"
                              value="no" [(ngModel)]="driverApplication.SafetyPerformanceHistory">
                            <label for="SafetyPerformanceHistoryy_no">No</label>
                          </div>
                        </div>
                      </div>

                    </div>
                  </div>
                </div>
                <div class="card card-body">
                  <div class="row">
                  <div class="row">
                      <div class="col-md-12">
                        <div class="form-field">
                          <label class="mb-2 d-block font-weight-700">Enter Your Name for Signature</label>
                          <!-- <p>Sign in the box below using your finger or stylus</p> -->
                          <input type="text" [(ngModel)]="driverApplication.safetyPerformanceSignature" (input)="updateSignature()"
                            class="form-control signature-input custom-input gray" placeholder="Type your full name"
                            name="safetyPerformanceSignature" required>
                        </div>
                      </div>
                    </div>
                    <div *ngIf="driverApplication.safetyPerformanceSignature" class="final-signature">
                      <h5>Your Final Signature:</h5>
                      <div class="signature-output">{{ driverApplication.safetyPerformanceSignature }}</div>
                    </div>
                    <div class="col-md-12">
                      <div class="form-group">
                        <label class="mb-2 d-block font-weight-700"> Date:</label>
                        <input type="date" class="form-control custom-input gray" name="SafetyPerformanceHistoryDate"
                          [(ngModel)]="driverApplication.SafetyPerformanceHistoryDate" required>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <!-- Section 15: Applicant Certification -->
              <div class="row">
                <div class="col-md-12">
                  <h2 class="font-18 font-weight-700 text-primary mb-4 text-capitalize">15. Applicant Certification:
                  </h2>
                </div>
                <div class="p-0 mb-2">
                  <div style="display: flex; justify-content: center; align-items: center;">
                    <button
                      style="color: hsl(0, 0%, 96%); background-color: rgb(0, 71, 189); height: 30px; font-size: 0.75rem; padding: 0 18px; min-width: 60px; letter-spacing: 0.3px;"
                      class="btn text-uppercase rounded-pill" type="button" data-bs-toggle="collapse"
                      (click)="ApplicantCertification = !ApplicantCertification">
                      Certification Statement <i class="ri-arrow-down-s-fill"></i>
                    </button>
                  </div>
                  <div class="collapse mt-2" id="myCollapse" [class.show]="ApplicantCertification">
                    <div class="card card-body">
                      "This certifies that this application was completed by me, and that all entries and information
                      are true and complete to the best of my knowledge. I understand that any omission or false
                      information is grounds for disqualification or termination."
                    </div>
                  </div>
                </div>
                <div class="card card-body">
                  <div class="row">
                    <div class="row">
                      <div class="col-md-12">
                        <div class="form-field">
                          <label class="mb-2 d-block font-weight-700">Enter Your Name for Signature</label>
                          <!-- <p>Sign in the box below using your finger or stylus</p> -->
                          <input type="text" [(ngModel)]="driverApplication.ApplicantCertificationSignature" (input)="updateSignature()"
                            class="form-control signature-input custom-input gray" placeholder="Type your full name"
                            name="ApplicantCertificationSignature" required>
                        </div>
                      </div>
                    </div>
                    <div *ngIf="driverApplication.ApplicantCertificationSignature" class="final-signature">
                      <h5>Your Final Signature:</h5>
                      <div class="signature-output">{{ driverApplication.ApplicantCertificationSignature }}</div>
                    </div>
                    <div class="col-md-12">
                      <div class="form-group">
                        <label class="mb-2 d-block font-weight-700"> Date:</label>
                        <input type="date" class="form-control custom-input gray" name="ApplicantCertificationDate"
                          [(ngModel)]="driverApplication.ApplicantCertificationDate" required>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="row mb-3">
                <div class="col-md-12">
                  <h5 class="mb-3">16. Driver Documents</h5>
                  <table class="table table-bordered">
                    <thead>
                      <tr>
                        <th>Document Name</th>
                        <th>Expiration Date</th>
                        <th>Upload File</th>
                        <th>Action</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr *ngFor="let doc of documents; let i = index">
                        <td>
                          <input type="text" class="form-control" placeholder="Document Name"
                            [(ngModel)]="documents[i].documentName" name="documentName{{i}}" required>
                        </td>
                        <td>
                          <input type="date" class="form-control" [(ngModel)]="documents[i].documentExpiration"
                            name="documentExpiration{{i}}">
                        </td>
                        <td>
                          <input type="file" class="form-control" (change)="onFileChange($event, i)">
                          <div *ngIf="documentUrl[i]">
                            <span>{{ documentUrl[i]?.name }}</span>
                            <button type="button" class="btn btn-link text-danger p-0" (click)="removeFile(i)">
                              <i class="fa fa-times"></i> Remove
                            </button>
                          </div>
                          <div *ngIf="documents[i].documentUrl">
                            <a [href]="documents[i].documentUrl" target="_blank">View Document</a>
                          </div>
                        </td>
                        <td>
                          <button type="button" class="btn btn-danger btn-sm" (click)="removeDocument(i)">
                            <i class="fa fa-trash"></i>
                          </button>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                  <button type="button" class="btn btn-outline-success btn-sm mt-3" (click)="addDocument()" style="color: #f9faff; border-color:#f9faff ; background-color: #304ccb; " >
                    <i class="fa fa-plus"></i> Add Document
                  </button>
                </div>
                
    </div>

              <div class="modal-footer justify-content-center"
                style="border-top: 1px solid #ccc; padding-top: 15px; margin-top: 15px; ">
                <button type="button" class="btn btn-outline-secondary btn-sm text-uppercase rounded-pill"
                  data-bs-dismiss="modal" style="margin: 10px;" (click)="goBack()">Back</button>
                <button type="submit" class="btn btn-success btn-sm text-uppercase rounded-pill"
                  style="margin: 10px;">Submit</button>
              </div>
            </form>
          </div>

        </div>
      </div>
    </div>
  </div>
</main>