<app-navbar (toggleSidebar)="toggleSidebar()" ></app-navbar>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js"></script>






<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"> -->


<!-- Main Content Area -->
<main
  id="main"
  class="main-content bg-gray main mt-0 p-0"
  style="margin-right: 120px;"
  [ngClass]="{'full-width': isSidebarOpen, 'shift-right': !isSidebarOpen}">
    <div class="p-4 pb-0">
    <h2 style="margin-left: 85px;" class="font-18 font-weight-700 mb-4 text-capitalize">Task Management</h2>
    <div style="margin-left: 90px;" class="    bg-whites rounded-lg p-3">
      <div class=" row  px-3 mt-3 rounded">
        <div class="    col-md-12">
<!-- Top Navigation Bar -->
<header class="top-nav">
<div class="search-bar">
<i class="fas fa-search"></i>
<input type="text" placeholder="Search tasks, drivers, or shipments...">
</div>
<div class="nav-actions">
<div class="nav-icon">
<i class="fas fa-bell"></i>
<span class="notification-badge">3</span>
</div>
<div class="nav-icon">
<i class="fas fa-envelope"></i>
<span class="notification-badge">5</span>
</div>
<div class="nav-icon">
<i class="fas fa-question-circle"></i>
</div>
</div>
</header>
<!-- Dashboard Content -->
<div class="dashboard-content">
<div class="page-header">
<div class="page-title">
<h1>Task Management</h1>
<p>Manage all your fleet operations tasks in one place</p>
</div>
<div class="view-toggle">
<button class="view-toggle-btn active" id="board-view-btn">
<i class="fas fa-th-large"></i>

Board
</button>
<button class="view-toggle-btn" id="list-view-btn">
<i class="fas fa-list"></i>

List
</button>
</div>

<div class="action-buttons">
<button class="btn btn-outline">
<i class="fas fa-filter"></i>

Filters
</button>
<button class="btn btn-primary" id="new-task-btn" (click)="openTaskModal()">
<i class="fas fa-plus"></i>

New Task
</button>
</div>
</div>
<!-- Task Management Board -->
<div class="task-management" id="task-management">
<!-- Backlog Column -->
<div class="task-column" id="backlog-column">
<div class="column-header">
<div class="column-title">Backlog</div>
<div class="column-count">8</div>
</div>
<div class="task-list">
<div class="task-card" draggable="true" data-task-id="schedule-maintenance">
<div class="task-priority priority-high">High Priority</div>
<h3 class="task-title">Schedule maintenance for truck #4521</h3>
<p class="task-description">Oil change and brake inspection needed before next long haul.</p>
<div class="task-meta">
<div class="task-assignee">
<div class="assignee-avatar">MS</div>
<span>Mike Smith</span>
</div>
<div class="task-due">
<i class="far fa-calendar-alt"></i>
<span>Due: Today</span>
</div>
</div>
</div>
<div class="task-card" draggable="true" data-task-id="update-eld">
<div class="task-priority priority-medium">Medium Priority</div>
<h3 class="task-title">Update ELD software</h3>
<p class="task-description">New ELD software update available for 12 trucks in fleet.</p>
<div class="task-meta">
<div class="task-assignee">
<div class="assignee-avatar">TJ</div>
<span>Tom Johnson</span>
</div>
<div class="task-due">
<i class="far fa-calendar-alt"></i>
<span>Due: Fri</span>
</div>
</div>
</div>
<div class="task-card" draggable="true" data-task-id="review-training">
<div class="task-priority priority-low">Low Priority</div>
<h3 class="task-title">Review driver training materials</h3>
<p class="task-description">Update winter driving safety protocols for annual training.</p>
<div class="task-meta">
<div class="task-assignee">
<div class="assignee-avatar">JD</div>
<span>John Driver</span>
</div>
<div class="task-due">
<i class="far fa-calendar-alt"></i>
<span>Due: Next Week</span>
</div>
</div>
</div>
</div>
<button class="add-task" (click)="openTaskModal()">
  <i class="fas fa-plus"></i>
  <span>Add Task</span>
</button>

</div>
<!-- In Progress Column -->
<div class="task-column" id="in-progress-column">
<div class="column-header">
<div class="column-title">In Progress</div>
<div class="column-count">5</div>
</div>
<div class="task-list">
<div class="task-card" draggable="true" data-task-id="resolve-hos">
<div class="task-priority priority-high">High Priority</div>
<h3 class="task-title">Resolve HOS violation for driver #3287</h3>
<p class="task-description">Driver exceeded maximum driving time - needs documentation.</p>
<div class="task-meta">
<div class="task-assignee">
<div class="assignee-avatar">JD</div>
<span>John Driver</span>
</div>
<div class="task-due overdue">
<i class="far fa-calendar-alt"></i>
<span>Due: Yesterday</span>
</div>
</div>
</div>
<div class="task-card" draggable="true" data-task-id="process-fuel-tax">
<div class="task-priority priority-medium">Medium Priority</div>
<h3 class="task-title">Process fuel tax documents</h3>
<p class="task-description">Quarterly IFTA reporting for all cross-state shipments.</p>
<div class="task-meta">
<div class="task-assignee">
<div class="assignee-avatar">AS</div>
<span>Alice Smith</span>
</div>
<div class="task-due soon">
<i class="far fa-calendar-alt"></i>
<span>Due: Tomorrow</span>
</div>
</div>
</div>
<div class="task-card" draggable="true" data-task-id="order-safety-vests">
<div class="task-priority priority-low">Low Priority</div>
<h3 class="task-title">Order new safety vests</h3>
<p class="task-description">Need 25 new high-visibility vests for warehouse team.</p>
<div class="task-meta">
<div class="task-assignee">
<div class="assignee-avatar">RJ</div>
<span>Robert Jones</span>
</div>
<div class="task-due">
<i class="far fa-calendar-alt"></i>
<span>Due: Next Week</span>
</div>
</div>
</div>
</div>
<button class="add-task" (click)="openTaskModal()">
<i class="fas fa-plus"></i>
<span>Add Task</span>
</button>
</div>
<!-- In Review Column -->
<div class="task-column" id="in-review-column">
<div class="column-header">
<div class="column-title">In Review</div>
<div class="column-count">3</div>
</div>
<div class="task-list">
<div class="task-card" draggable="true" data-task-id="approve-contracts">
<div class="task-priority priority-high">High Priority</div>
<h3 class="task-title">Approve new freight contracts</h3>
<p class="task-description">Review terms and pricing for new client shipments.</p>
<div class="task-meta">
<div class="task-assignee">
<div class="assignee-avatar">MB</div>
<span>Maria Brown</span>
</div>
<div class="task-due soon">
<i class="far fa-calendar-alt"></i>
<span>Due: Tomorrow</span>
</div>
</div>
</div>
<div class="task-card" draggable="true" data-task-id="verify-certifications">
<div class="task-priority priority-medium">Medium Priority</div>
<h3 class="task-title">Verify driver certifications</h3>
<p class="task-description">Annual review of all driver licenses and certifications.</p>
<div class="task-meta">
<div class="task-assignee">
<div class="assignee-avatar">JD</div>
<span>John Driver</span>
</div>
<div class="task-due">
<i class="far fa-calendar-alt"></i>
<span>Due: Fri</span>
</div>
</div>
</div>
</div>
<button class="add-task" (click)="openTaskModal()">
<i class="fas fa-plus"></i>
<span>Add Task</span>
</button>
</div>
<!-- Completed Column -->
<div class="task-column" id="completed-column">
<div class="column-header">
<div class="column-title">Completed</div>
<div class="column-count">7</div>
</div>
<div class="task-list">
<div class="task-card" draggable="true" data-task-id="dispatch-chicago">
<div class="task-priority priority-medium">Medium Priority</div>
<h3 class="task-title">Dispatch load to Chicago</h3>
<p class="task-description">Coordinated shipment of automotive parts to client warehouse.</p>
<div class="task-meta">
<div class="task-assignee">
<div class="assignee-avatar">JD</div>
<span>John Driver</span>
</div>
<div class="task-due">
<i class="far fa-calendar-alt"></i>
<span>Completed</span>
</div>
</div>
</div>
<div class="task-card" draggable="true" data-task-id="update-insurance">
<div class="task-priority priority-low">Low Priority</div>
<h3 class="task-title">Update insurance documents</h3>
<p class="task-description">Added new truck to fleet insurance policy.</p>
<div class="task-meta">
<div class="task-assignee">
<div class="assignee-avatar">AS</div>
<span>Alice Smith</span>
</div>
<div class="task-due">
<i class="far fa-calendar-alt"></i>
<span>Completed</span>
</div>
</div>
</div>
</div>
<button class="add-task" (click)="openTaskModal()">
<i class="fas fa-plus"></i>
<span>Add Task</span>
</button>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</main>
<!-- Task Detail Drawer -->
<div class="task-drawer" id="task-drawer">
<div class="drawer-header">
<h3 id="drawer-task-title">Task Details</h3>
<button class="close-drawer">
<i class="fas fa-times"></i>
</button>
</div>
<div class="drawer-content">
<div class="task-detail-section">
<h4><i class="fas fa-info-circle"></i> Details</h4>
<div class="task-detail-row">
<div class="task-detail-label">Priority:</div>
<div class="task-detail-value">
<span class="task-priority priority-high" id="drawer-task-priority">High Priority</span>
</div>
</div>
<div class="task-detail-row">
<div class="task-detail-label">Status:</div>
<div class="task-detail-value" id="drawer-task-status">In Progress</div>
</div>
<div class="task-detail-row">
<div class="task-detail-label">Assigned To:</div>
<div class="task-detail-value" id="drawer-task-assignee">John Driver</div>
</div>
<div class="task-detail-row">
<div class="task-detail-label">Due Date:</div>
<div class="task-detail-value" id="drawer-task-due">Today</div>
</div>
<div class="task-detail-row">
<div class="task-detail-label">Created:</div>
<div class="task-detail-value" id="drawer-task-created">2 days ago</div>
</div>
</div>
<div class="task-detail-section">
<h4><i class="fas fa-align-left"></i> Description</h4>
<p class="task-description-text" id="drawer-task-description">

Oil change and brake inspection needed before next long haul. Truck #4521 is scheduled for a cross-country delivery next Monday and requires routine maintenance.
</p>
</div>
<div class="task-detail-section">
<h4><i class="fas fa-comments"></i> Comments (3)</h4>
<div class="task-comments">
<div class="comment">
<div class="comment-avatar">MS</div>
<div class="comment-content">
<div class="comment-header">
<span class="comment-author">Mike Smith</span>
<span class="comment-time">2 hours ago</span>
</div>
<p class="comment-text">I've scheduled the maintenance appointment for tomorrow at 10 AM at our preferred service center.</p>
</div>
</div>
<div class="comment">
<div class="comment-avatar">JD</div>
<div class="comment-content">
<div class="comment-header">
<span class="comment-author">John Driver</span>
<span class="comment-time">1 hour ago</span>
</div>
<p class="comment-text">Thanks Mike. Please make sure they also check the tire pressure and alignment.</p>
</div>
</div>
<div class="comment">
<div class="comment-avatar">MS</div>
<div class="comment-content">
<div class="comment-header">
<span class="comment-author">Mike Smith</span>
<span class="comment-time">30 minutes ago</span>
</div>
<p class="comment-text">Will do. I've added those items to the work order.</p>
</div>
</div>
</div>
<div class="add-comment">
<input type="text" placeholder="Add a comment..." id="comment-input">
<button class="btn btn-primary">
<i class="fas fa-paper-plane"></i>
</button>
</div>
</div>
<div class="drawer-footer">
<div class="task-actions">
<button class="btn btn-outline">
<i class="fas fa-edit"></i>

Edit
</button>
<button class="btn btn-primary" id="complete-task-btn">
<i class="fas fa-check"></i>

Complete
</button>
</div>
<div class="followup-section" id="followup-section">
<h5><i class="fas fa-plus-circle"></i> Follow-up Task</h5>
<button class="btn btn-outline btn-block">
<i class="fas fa-plus"></i>

Add Follow-up Task
</button>
</div>
</div>
</div>

<!-- Custom Task Modal -->
<div class="custom-task-modal" *ngIf="isTaskModalOpen">
  <div class="custom-task-content">
    <div class="custom-task-header">
      <h3>Create New Task</h3>
      <button class="custom-task-close" (click)="closeTaskModal()">
        <i class="fas fa-times"></i>
      </button>
    </div>

    <div class="custom-task-body">
      <div class="custom-task-field">
        <label for="task-title">Task Title</label>
        <input type="text" id="task-title" placeholder="Enter task title">
      </div>

      <div class="custom-task-field">
        <label for="task-description">Description</label>
        <textarea id="task-description" placeholder="Enter task description"></textarea>
      </div>

      <div class="custom-task-field">
        <label for="task-priority">Priority</label>
        <select id="task-priority">
          <option value="low">Low</option>
          <option value="medium" selected>Medium</option>
          <option value="high">High</option>
        </select>
      </div>

      <div class="custom-task-field">
        <label for="task-assignee">Assign To</label>
        <select id="task-assignee">
          <option value="John Driver">John Driver</option>
          <option value="Mike Smith">Mike Smith</option>
          <option value="Alice Smith">Alice Smith</option>
          <option value="Tom Johnson">Tom Johnson</option>
          <option value="Maria Brown">Maria Brown</option>
          <option value="Robert Jones">Robert Jones</option>
        </select>
      </div>

      <div class="custom-task-field">
        <label for="task-due-date">Due Date</label>
        <input type="date" id="task-due-date">
      </div>
    </div>

    <div class="custom-task-footer">
      <button class="custom-btn custom-btn-outline" (click)="closeTaskModal()">Cancel</button>
      <button class="custom-btn custom-btn-primary" id="create-task-btn">
        <i class="fas fa-plus"></i> Create Task
      </button>
    </div>
  </div>
</div>

<div class="overlay" id="overlay" *ngIf="isTaskModalOpen" (click)="closeTaskModal()" style="position:fixed; top:0; left:0; width:100vw; height:100vh; background:rgba(0,0,0,0.3); z-index:1040;"></div>
</div>

<!-- Overlay -->
<div class="overlay" id="overlay" *ngIf="isTaskModalOpen" (click)="closeTaskModal()"></div>
